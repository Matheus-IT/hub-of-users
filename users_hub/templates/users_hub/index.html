{% extends './base.html' %}

{% block title %}
	Users Hub
{% endblock %}

{% block adicionalInHead %}
	<style>		
		/* nothing yet :)  */
	</style>
	<script>
		document.addEventListener('DOMContentLoaded', function() {
			const socket = new WebSocket(`ws://${window.location.host}/ws/hub/`);
			let activeUsers = [];
			
			socket.onmessage = function(event) {
				const data = JSON.parse(event.data);
				console.log(data);
			}
		});
	</script>
{% endblock %}


{% block content %}
	<ul>
		{% for user in users %}
			<li>{{ user.email }} - {{ user.status }}</li>
		{% empty %}
			<li>No one is here...</li>
		{% endfor %}
	</ul>
{% endblock %}
